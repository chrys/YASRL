<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot Demo</title>
    <script src="https://unpkg.com/htmx.org"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/indexing.css') }}">
</head>
<body>
    <div class="app-container">
        <!-- Navigation -->
        <nav class="navbar">
            <div class="nav-brand">Chatbot Demo</div>
            <ul class="nav-menu">
                <li>
                    <a href="{{ url_for('admin_page') }}" 
                       hx-get="{{ url_for('admin_page') }}" 
                       hx-target="#page-content" 
                       hx-push-url="true"
                       class="nav-link">
                        Admin
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('chat_page') }}" 
                       hx-get="{{ url_for('chat_page') }}" 
                       hx-target="#page-content" 
                       hx-push-url="true"
                       class="nav-link">
                        Chat
                    </a>
                </li>
                <li>
                    <a href="{{ url_for('evaluate_page') }}" 
                       hx-get="{{ url_for('evaluate_page') }}" 
                       hx-target="#page-content" 
                       hx-push-url="true"
                       class="nav-link">
                        Evaluate
                    </a>
                </li>
            </ul>
        </nav>

        <!-- Page Content -->
        <main id="page-content" class="page-content">
            <div class="welcome">
                <h1>Loading...</h1>
            </div>
        </main>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/indexing.js') }}"></script>
    
    <!-- Load admin page by default -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            htmx.ajax('GET', "{{ url_for('admin_page') }}", {
                target: '#page-content',
                swap: 'innerHTML'
            });
        });
    </script>
