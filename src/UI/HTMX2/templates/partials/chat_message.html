<div class="flex flex-col space-y-2">
    <div class="flex justify-end">
        <div class="bg-indigo-100 text-indigo-900 p-3 rounded-lg rounded-tr-none max-w-[80%]">
            <p class="text-sm">{{ message }}</p>
        </div>
    </div>
    <div class="flex justify-start">
        <div class="bg-white border border-gray-200 text-gray-900 p-3 rounded-lg rounded-tl-none max-w-[80%] shadow-sm">
            <p class="text-sm">{{ answer }}</p>
            {% if sources %}
            <div class="mt-2 pt-2 border-t border-gray-100">
                <p class="text-xs font-semibold text-gray-500 mb-1">Sources:</p>
                <ul class="list-disc list-inside text-xs text-gray-500">
                    {% for chunk in sources %}
                    <li>{{ chunk.metadata.get('source', 'Unknown') }}</li>
                    {% endfor %}
                </ul>
            </div>
            {% endif %}
        </div>
    </div>
</div>